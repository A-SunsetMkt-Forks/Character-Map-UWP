<views:ViewBase
    x:Class="CharacterMap.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:core="using:CharacterMap.Core"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:h="using:CharacterMap.Helpers"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:models="using:CharacterMap.Models"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:views="using:CharacterMap.Views"
    xmlns:win1903="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 8)"
    d:DesignHeight="1880"
    d:DesignWidth="1920"
    Loaded="View_Loaded"
    Loading="View_Loading"
    TabFocusNavigation="Cycle"
    mc:Ignorable="d">

    <UserControl.Resources>
        <Style x:Key="SubheaderTextBlockStyle" BasedOn="{StaticResource SubheaderTextBlockStyle}" TargetType="TextBlock">
            <Setter Property="FontSize" Value="20" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Margin" Value="0 12 0 4" />
        </Style>
        <Style x:Key="SectionHeaderTextBlockStyle" BasedOn="{StaticResource SubheaderTextBlockStyle}" TargetType="TextBlock">
            <Setter Property="FontSize" Value="26" />
            <Setter Property="FontWeight" Value="SemiLight" />
            <Setter Property="Margin" Value="0 10 0 4" />
        </Style>
        <Style x:Key="DescriptionStyle" BasedOn="{StaticResource BaseTextBlockStyle}" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{ThemeResource TextControlPlaceholderForeground}" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Margin" Value="0 4 0 8" />
            <Setter Property="OpticalMarginAlignment" Value="TrimSideBearings" />
        </Style>
        <Style x:Key="HeaderStyle" TargetType="TextBlock">
            <Setter Property="OpticalMarginAlignment" Value="TrimSideBearings" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Margin" Value="0 20 0 0" />
        </Style>
        <Style x:Key="HintStyle" BasedOn="{StaticResource DescriptionStyle}" TargetType="TextBlock">
            <Setter Property="Margin" Value="4 4 0 12" />
            <Setter Property="FontStyle" Value="Italic" />
            <Setter Property="OpticalMarginAlignment" Value="None" />
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="MinWidth" Value="200" />
        </Style>

        <Style x:Key="SpacerStyle" TargetType="Border">
            <Setter Property="Height" Value="1" />
            <Setter Property="Background" Value="{ThemeResource AppBarItemForegroundThemeBrush}" />
            <Setter Property="Opacity" Value="0.3" />
            <Setter Property="Margin" Value="0 24 0 12" />
        </Style>

        <Style BasedOn="{StaticResource DefaultComboBoxStyle}" TargetType="ComboBox">
            <Setter Property="MinWidth" Value="172" />
        </Style>

    </UserControl.Resources>

    <Grid>

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup x:Name="SizeStates">
                <VisualState x:Name="DefaultSizeState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="740" />
                    </VisualState.StateTriggers>
                </VisualState>
                <VisualState x:Name="CompactSizeState">
                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="0" />
                    </VisualState.StateTriggers>
                    <VisualState.Setters>
                        <Setter Target="MenuColumn.Width" Value="44" />
                        <Setter Target="SpacerColumn.Width" Value="48" />
                    </VisualState.Setters>
                </VisualState>
            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>

        <Grid.RowDefinitions>
            <RowDefinition Height="{x:Bind TitleBarHeight, Mode=OneWay}" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Border
            x:Name="TitleBackground"
            Grid.RowSpan="2"
            Margin="0 0 0 -10"
            Background="{StaticResource DefaultHostBrush}" />

        <Grid
            x:Name="HeaderGrid"
            Grid.Row="1"
            Height="{StaticResource TitleRowHeight}">

            <TextBlock
                x:Uid="SettingsHeader"
                Margin="20 0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontSize="22"
                FontWeight="Bold" />

            <AppBarButton
                x:Name="BtnClose"
                x:Uid="BtnClose"
                Width="45"
                Height="45"
                HorizontalAlignment="Right"
                Click="{x:Bind Hide}">
                <SymbolIcon Symbol="Cancel" />
            </AppBarButton>

        </Grid>

        <Grid
            x:Name="ContentRoot"
            Grid.Row="2"
            Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
            CornerRadius="8 8 0 0">

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackPanel
                    x:Name="MenuColumn"
                    Width="256"
                    Margin="0 24 0 0">
                    <StackPanel.Resources>
                        <Style BasedOn="{StaticResource IconButton}" TargetType="Button" />
                    </StackPanel.Resources>

                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsUIHeader/Text')}"
                        Tag="{x:Bind UserInterfacePanel}">
                        <core:Properties.Icon>
                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE771;" />
                        </core:Properties.Icon>
                    </Button>

                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsAdvancedUILabel/Text')}"
                        Tag="{x:Bind UserInterfaceAdvancedPanel}">
                        <core:Properties.Icon>
                            <PathIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Data="F1 M 13.125 0.019531 L 6.25 3.457031 L 6.25 6.445313 L 7.5 7.070313 L 7.5 4.853516 L 12.5 7.353516 L 12.5 10.498047 L 13.75 9.873047 L 13.75 7.353516 L 18.75 4.853516 L 18.75 10.498047 L 20 11.123047 L 20 3.457031 Z M 13.125 6.269531 L 8.271484 3.847656 L 10.332031 2.8125 L 14.853516 5.400391 Z M 16.201172 4.736328 L 11.669922 2.148438 L 13.125 1.416016 L 17.978516 3.847656 Z M 11.25 11.123047 L 11.25 10.341797 L 5.625 7.529297 L 0 10.341797 L 0 16.943359 L 5.625 19.765625 L 10 17.578125 L 10 16.171875 L 6.25 18.056641 L 6.25 13.613281 L 10 11.738281 L 10 11.748047 Z M 5 18.056641 L 1.25 16.171875 L 1.25 11.738281 L 5 13.613281 Z M 5.625 12.529297 L 2.021484 10.732422 L 5.625 8.925781 L 9.228516 10.732422 Z M 11.25 12.519531 L 11.25 17.666016 L 15.625 19.853516 L 20 17.666016 L 20 12.519531 L 15.625 10.332031 Z M 15 18.144531 L 12.5 16.894531 L 12.5 13.916016 L 15 15.166016 Z M 18.75 16.894531 L 16.25 18.144531 L 16.25 15.166016 L 18.75 13.916016 Z M 15.625 14.082031 L 13.271484 12.900391 L 15.625 11.728516 L 17.978516 12.900391 Z " />
                        </core:Properties.Icon>
                    </Button>
                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsExportHeader/Text')}"
                        Tag="{x:Bind ExportPanel}">
                        <core:Properties.Icon>
                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE2B4;" />
                        </core:Properties.Icon>
                    </Button>
                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsCharacterSearchHeader/Text')}"
                        Tag="{x:Bind SearchPanel}">
                        <core:Properties.Icon>
                            <SymbolIcon Symbol="Find" />
                        </core:Properties.Icon>
                    </Button>
                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsDevToolsGroupHeader/Text')}"
                        Tag="{x:Bind DeveloperPanel}">
                        <core:Properties.Icon>
                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xEC7A;" />
                        </core:Properties.Icon>
                    </Button>
                    <Button
                        core:Properties.Icon="Font"
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsFontManagementLabel/Text')}"
                        Tag="{x:Bind FontPanel}" />
                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsLicensesLabel/Text')}"
                        Tag="{x:Bind LicensesPanel}">
                        <core:Properties.Icon>
                            <PathIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Data="F1 M 17.5 0.302734 L 17.5 15.332031 L 9.375 19.130859 L 1.25 15.332031 L 1.25 0.302734 L 9.375 3.759766 Z M 2.5 14.541016 L 8.75 17.451172 L 8.75 4.853516 L 2.5 2.197266 Z M 16.25 2.197266 L 10 4.853516 L 10 17.451172 L 16.25 14.541016 Z M 15 9.765625 L 11.25 11.640625 L 11.25 6.484375 L 15 4.609375 Z M 13.75 6.640625 L 12.5 7.265625 L 12.5 9.609375 L 13.75 8.984375 Z M 7.5 8.359375 L 7.5 9.765625 L 3.75 7.890625 L 3.75 6.484375 Z M 3.75 10.234375 L 7.5 12.109375 L 7.5 13.515625 L 3.75 11.640625 Z M 11.25 14.765625 L 11.25 13.359375 L 15 11.484375 L 15 12.890625 Z " />
                        </core:Properties.Icon>
                    </Button>
                    <Button
                        Click="MenuItem_Clicked"
                        Content="{x:Bind h:Localization.Get('SettingsAboutLabel/Text')}"
                        Tag="{x:Bind AboutPanel}">
                        <core:Properties.Icon>
                            <FontIcon FontFamily="{ThemeResource SymbolThemeFontFamily}" Glyph="&#xE946;" />
                        </core:Properties.Icon>
                    </Button>
                </StackPanel>

                <Border
                    x:Name="ContentBorder"
                    Grid.Column="1"
                    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                    Loaded="{x:Bind h:Composition.SetStandardReposition}">
                    <!--  RepositionAnimation on the ScrollViewer itself breaks hit testing  -->
                    <ScrollViewer x:Name="ContentScroller">
                        <Grid
                            x:Name="ContentPanel"
                            ColumnSpacing="16"
                            Margin="20 14 20 120">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" MaxWidth="700" />
                                <ColumnDefinition x:Name="SpacerColumn" Width="0.35*" />
                            </Grid.ColumnDefinitions>

                            <StackPanel x:Name="UserInterfacePanel" Visibility="Collapsed">
                                <!--#region USER INTERFACE-->

                                <TextBlock
                                    x:Uid="SettingsUIHeader"
                                    Style="{StaticResource SectionHeaderTextBlockStyle}"
                                    Text="#UserInterface" />

                                <StackPanel>
                                    <TextBlock
                                        x:Uid="SettingsCharGridHeader"
                                        Style="{StaticResource HeaderStyle}"
                                        Text="#CharacterGridSize" />
                                    <TextBlock
                                        x:Uid="SettingsCharGridDescription"
                                        Style="{StaticResource DescriptionStyle}"
                                        Text="#Description" />
                                    <Slider
                                        HorizontalAlignment="Stretch"
                                        IsThumbToolTipEnabled="True"
                                        Maximum="192"
                                        Minimum="64"
                                        StepFrequency="8"
                                        TickFrequency="8"
                                        TickPlacement="Outside"
                                        Value="{x:Bind Settings.GridSize, Mode=TwoWay}" />
                                    <TextBlock>
                                        <Run Text="{x:Bind Settings.GridSize, Mode=OneWay}" />
                                        <Run Text="px" />
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsCharLabel" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsCharLabelDesc" Style="{StaticResource DescriptionStyle}" />
                                    <ComboBox ItemsSource="{x:Bind Annotations}" SelectedItem="{x:Bind Settings.GlyphAnnotation, Mode=TwoWay}">
                                        <ComboBox.ItemTemplate>
                                            <DataTemplate x:DataType="models:GlyphAnnotation">
                                                <TextBlock Text="{x:Bind core:Converters.GetLocalizedEnumName((models:GlyphAnnotation))}" />
                                            </DataTemplate>
                                        </ComboBox.ItemTemplate>
                                    </ComboBox>

                                    <StackPanel
                                        Margin="0 12 0 0"
                                        Padding="4 4 0 0"
                                        HorizontalAlignment="Left"
                                        Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
                                        BorderBrush="{ThemeResource PivotNavButtonBackgroundThemeBrush}"
                                        BorderThickness="1"
                                        CornerRadius="4"
                                        Orientation="Horizontal">
                                        <GridViewItem>
                                            <Grid
                                                Width="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Height="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Padding="4">
                                                <TextBlock
                                                    x:Name="Preview1"
                                                    Margin="0 -2 0 0"
                                                    Padding="0,0,0,8"
                                                    FontSize="{x:Bind core:Converters.GetFontSize(Settings.GridSize), Mode=OneWay}"
                                                    IsTextScaleFactorEnabled="False"
                                                    Text="A"
                                                    TextAlignment="Center" />
                                                <TextBlock
                                                    Style="{StaticResource CharItemUnicodeStyle}"
                                                    Text="{x:Bind core:Converters.GetAnnotation(Settings.GlyphAnnotation, 65), Mode=OneWay}"
                                                    Visibility="{x:Bind ShowUnicode(Settings.GlyphAnnotation), Mode=OneWay}" />
                                            </Grid>
                                        </GridViewItem>

                                        <GridViewItem>
                                            <Grid
                                                Width="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Height="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Padding="4">
                                                <TextBlock
                                                    x:Name="Preview2"
                                                    Margin="0 -2 0 0"
                                                    Padding="0,0,0,8"
                                                    FontSize="{x:Bind core:Converters.GetFontSize(Settings.GridSize), Mode=OneWay}"
                                                    IsTextScaleFactorEnabled="False"
                                                    Text="b"
                                                    TextAlignment="Center" />
                                                <TextBlock
                                                    Style="{StaticResource CharItemUnicodeStyle}"
                                                    Text="{x:Bind core:Converters.GetAnnotation(Settings.GlyphAnnotation, 98), Mode=OneWay}"
                                                    Visibility="{x:Bind ShowUnicode(Settings.GlyphAnnotation), Mode=OneWay}" />
                                            </Grid>
                                        </GridViewItem>

                                        <GridViewItem>
                                            <Grid
                                                Width="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Height="{x:Bind Settings.GridSize, Mode=OneWay}"
                                                Padding="4">
                                                <TextBlock
                                                    x:Name="Preview3"
                                                    Margin="0 -2 0 0"
                                                    Padding="0,0,0,8"
                                                    FontSize="{x:Bind core:Converters.GetFontSize(Settings.GridSize), Mode=OneWay}"
                                                    IsTextScaleFactorEnabled="False"
                                                    Text="y"
                                                    TextAlignment="Center" />
                                                <TextBlock
                                                    Style="{StaticResource CharItemUnicodeStyle}"
                                                    Text="{x:Bind core:Converters.GetAnnotation(Settings.GlyphAnnotation, 121), Mode=OneWay}"
                                                    Visibility="{x:Bind ShowUnicode(Settings.GlyphAnnotation), Mode=OneWay}" />
                                            </Grid>
                                        </GridViewItem>

                                    </StackPanel>

                                    <TextBlock x:Uid="SettingsCharPreviewHint" Style="{StaticResource HintStyle}" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="FontListDisplayHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsFontListDescription" Style="{StaticResource DescriptionStyle}" />
                                    <RadioButton
                                        x:Name="UseActualFont"
                                        x:Uid="RbUseActualFont"
                                        Checked="UseActualFont_Checked"
                                        GroupName="FontList" />
                                    <RadioButton
                                        x:Name="UseSystemFont"
                                        x:Uid="RbUseSystemFont"
                                        Checked="UseSystemFont_Checked"
                                        GroupName="FontList" />


                                    <ListView
                                        x:Name="LstFontFamily"
                                        Width="256"
                                        Margin="0 12 0 0"
                                        HorizontalAlignment="Left"
                                        Background="{StaticResource DefaultHostBrush}"
                                        CornerRadius="4"
                                        IsHitTestVisible="False"
                                        IsItemClickEnabled="False"
                                        IsSwipeEnabled="False"
                                        IsTabStop="False"
                                        ItemContainerTransitions="{StaticResource NoTransitions}"
                                        ItemTemplate="{StaticResource FontListItemTemplate}"
                                        SelectionMode="None"
                                        ShowsScrollingPlaceholders="False">
                                        <ListView.Resources>
                                            <Style BasedOn="{StaticResource ListViewItemRevealStyle}" TargetType="ListViewItem">
                                                <Setter Property="IsTabStop" Value="False" />
                                                <Setter Property="HorizontalAlignment" Value="Stretch" />
                                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                            </Style>
                                        </ListView.Resources>
                                    </ListView>

                                    <TextBlock x:Uid="SettingsFontListPreviewHint" Style="{StaticResource HintStyle}" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsThemeHeader" Style="{StaticResource HeaderStyle}" />
                                    <RadioButton
                                        x:Name="ThemeLight"
                                        x:Uid="RbThemeLight"
                                        Checked="ThemeLight_Checked"
                                        GroupName="ThemeSelector" />
                                    <RadioButton
                                        x:Name="ThemeDark"
                                        x:Uid="RbThemeDark"
                                        Checked="ThemeDark_Checked"
                                        GroupName="ThemeSelector" />
                                    <RadioButton
                                        x:Name="ThemeSystem"
                                        x:Uid="RbThemeSystem"
                                        Checked="ThemeSystem_Checked"
                                        GroupName="ThemeSelector" />

                                    <HyperlinkButton
                                        x:Uid="SettingsWindowsThemeSettings"
                                        NavigateUri="ms-settings:personalization-colors"
                                        Style="{StaticResource TextBlockButtonStyle}" />
                                </StackPanel>
                            </StackPanel>

                            <StackPanel x:Name="UserInterfaceAdvancedPanel" Visibility="Collapsed">

                                <TextBlock x:Uid="SettingsAdvancedUILabel" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <StackPanel>
                                    <TextBlock
                                        x:Uid="SettingsLanguageHeader"
                                        Style="{StaticResource HeaderStyle}"
                                        Text="#Language" />

                                    <ComboBox
                                        MinWidth="256"
                                        Margin="0 8 0 0"
                                        ItemsSource="{x:Bind SupportedLanguages}"
                                        PlaceholderText="{x:Bind core:Converters.GetLanguageDisplayFromID(Settings.AppLanguage)}"
                                        SelectedItem="{x:Bind core:Converters.GetSelectedLanguage(Settings.AppLanguage, SupportedLanguages), Mode=TwoWay, BindBack=SelectedLanguageToString}" />

                                    <TextBlock
                                        x:Uid="SettingsNeedRestart"
                                        Margin="4 4 0 4"
                                        Style="{StaticResource HintStyle}"
                                        Visibility="{x:Bind core:Converters.CompareLanguageToSetting(Settings.AppLanguage), Mode=OneWay}" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsSimpleAnimationHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsSimpleAnimationDescription" Style="{StaticResource DescriptionStyle}" />
                                    <ToggleSwitch IsOn="{x:Bind Settings.UseSelectionAnimations, Mode=TwoWay}" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsTransparencyHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsTransparencyDescription" Style="{StaticResource DescriptionStyle}" />
                                    <ToggleSwitch IsOn="{x:Bind Settings.IsTransparencyEnabled, Mode=TwoWay}" />
                                </StackPanel>

                                <win1903:StackPanel>
                                    <win1903:TextBlock x:Uid="SettingsShadowsHeader" Style="{StaticResource HeaderStyle}" />
                                    <win1903:TextBlock x:Uid="SettingsShadowsDescription" Style="{StaticResource DescriptionStyle}" />
                                    <win1903:ToggleSwitch IsOn="{x:Bind Settings.EnableShadows, Mode=TwoWay}" />
                                </win1903:StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsExpensiveAnimationHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsExpensiveAnimationDescription" Style="{StaticResource DescriptionStyle}" />
                                    <ToggleSwitch IsOn="{x:Bind Settings.AllowExpensiveAnimations, Mode=TwoWay}" />
                                </StackPanel>

                            </StackPanel>

                            <StackPanel x:Name="ExportPanel" Visibility="Collapsed">

                                <TextBlock x:Uid="SettingsExportHeader" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsPNGExportHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsPNGExportDescription" Style="{StaticResource DescriptionStyle}" />
                                    <Slider
                                        x:Name="SldResolution"
                                        HorizontalAlignment="Stretch"
                                        IsThumbToolTipEnabled="True"
                                        Maximum="2048"
                                        Minimum="128"
                                        StepFrequency="64"
                                        TickFrequency="64"
                                        TickPlacement="Outside"
                                        Value="{x:Bind Settings.PngSize, Mode=TwoWay}" />
                                    <TextBlock Margin="0,0,0,16">
                                        <Run Text="{x:Bind SldResolution.Value, Mode=OneWay}" />
                                        <Run Text="x" />
                                        <Run Text="{x:Bind SldResolution.Value, Mode=OneWay}" />
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsFontNameExportLabel" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsFontNameExportDescription" Style="{StaticResource DescriptionStyle}" />

                                    <muxc:RadioButtons x:Name="FontNamingSelection" SelectionChanged="FontNamingSelection_SelectionChanged">
                                        <RadioButton>
                                            <TextBlock>
                                                <Run x:Uid="SettingsFontExportSystemLabel" />
                                                <Run
                                                    FontSize="13.333"
                                                    Foreground="{ThemeResource TextControlPlaceholderForeground}"
                                                    Text="e.g. MSOFFSYMB.ttf" />
                                            </TextBlock>
                                        </RadioButton>
                                        <RadioButton>
                                            <TextBlock>
                                                <Run x:Uid="SettingsFontExportOptimizedLabel" />
                                                <Run
                                                    FontSize="13.333"
                                                    Foreground="{ThemeResource TextControlPlaceholderForeground}"
                                                    Text=" e.g. MS Office Symbol Regular.ttf" />
                                            </TextBlock>
                                        </RadioButton>
                                    </muxc:RadioButtons>

                                </StackPanel>

                            </StackPanel>

                            <StackPanel x:Name="SearchPanel" Visibility="Collapsed">

                                <TextBlock x:Uid="SettingsCharacterSearchHeader" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <StackPanel>
                                    <TextBlock
                                        x:Uid="InstantSearchToggleHeader"
                                        Style="{StaticResource HeaderStyle}"
                                        Text="#Use Instant Search" />
                                    <TextBlock x:Uid="SettingsCharacterSearchDescription" Style="{StaticResource DescriptionStyle}" />
                                    <ToggleSwitch IsOn="{x:Bind Settings.UseInstantSearch, Mode=TwoWay}" />
                                </StackPanel>

                                <muxc:NumberBox
                                    x:Uid="SearchDelaySelector"
                                    Width="200"
                                    Margin="0 12 0 0"
                                    HorizontalAlignment="Left"
                                    AcceptsExpression="False"
                                    BorderThickness="1"
                                    Header="#Search Delay"
                                    LargeChange="50"
                                    Maximum="2000"
                                    Minimum="250"
                                    SmallChange="10"
                                    SpinButtonPlacementMode="Inline"
                                    Visibility="{x:Bind Settings.UseInstantSearch, Mode=OneWay}"
                                    Value="{x:Bind Settings.InstantSearchDelay, Mode=TwoWay}" />

                                <muxc:NumberBox
                                    x:Uid="SearchResultsSlider"
                                    Grid.Column="1"
                                    Width="200"
                                    Margin="0 12 0 0"
                                    HorizontalAlignment="Left"
                                    AcceptsExpression="False"
                                    Header="#Search Results"
                                    LargeChange="10"
                                    Loaded="{x:Bind h:Composition.SetStandardReposition}"
                                    Maximum="100"
                                    Minimum="5"
                                    SmallChange="5"
                                    SpinButtonPlacementMode="Inline"
                                    Value="{x:Bind Settings.MaxSearchResult, Mode=TwoWay}" />

                            </StackPanel>

                            <StackPanel x:Name="DeveloperPanel" Visibility="Collapsed">
                                <TextBlock x:Uid="SettingsDevToolsGroupHeader" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <StackPanel>
                                    <TextBlock x:Uid="SettingsDevToolsDescription" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsDevToolsDescription" Style="{StaticResource DescriptionStyle}" />
                                    <ToggleSwitch x:Name="ToggleDevUtils" Toggled="ToggleDevUtils_Toggled" />
                                </StackPanel>

                                <StackPanel Visibility="{x:Bind ToggleDevUtils.IsOn, Mode=OneWay}">
                                    <TextBlock x:Uid="SettingsDevToolsLangHeader" Style="{StaticResource HeaderStyle}" />
                                    <TextBlock x:Uid="SettingsDevToolsLangDescription" Style="{StaticResource DescriptionStyle}" />
                                    <muxc:RadioButtons x:Name="RbLanguage" SelectionChanged="RadioButtons_SelectionChanged" />
                                </StackPanel>

                            </StackPanel>

                            <StackPanel x:Name="FontPanel" Visibility="Collapsed">

                                <TextBlock
                                    x:Uid="SettingsFontManagementLabel"
                                    OpticalMarginAlignment="None"
                                    Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <TextBlock
                                    x:Uid="SettingsSystemFontHeader"
                                    OpticalMarginAlignment="None"
                                    Style="{StaticResource SubheaderTextBlockStyle}" />
                                <HyperlinkButton
                                    x:Uid="SettingsManageSystemFonts"
                                    NavigateUri="ms-settings:fonts"
                                    Style="{StaticResource TextBlockButtonStyle}" />


                                <StackPanel>
                                    <TextBlock
                                        x:Uid="SettingsImportedFontsLabel"
                                        Margin="0 24 0 0"
                                        OpticalMarginAlignment="None"
                                        Style="{StaticResource SubheaderTextBlockStyle}" />

                                    <TextBlock x:Uid="SettingsFontImportDescription" Style="{StaticResource DescriptionStyle}" />
                                </StackPanel>

                                <StackPanel Spacing="6">
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="Import" />
                                    <Grid
                                        x:Name="ImportFontsRegion"
                                        Width="340"
                                        Height="80"
                                        HorizontalAlignment="Left">
                                        <Rectangle
                                            Opacity="0.4"
                                            Stroke="{ThemeResource SystemControlForegroundBaseHighBrush}"
                                            StrokeDashArray="2 2"
                                            StrokeThickness="1" />

                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <FontIcon
                                                Margin="12 12 0 12"
                                                VerticalAlignment="Top"
                                                FontFamily="{ThemeResource SymbolThemeFontFamily}"
                                                FontSize="30"
                                                Glyph="&#xE1E3;" />

                                            <StackPanel Grid.Column="1" Margin="12">
                                                <TextBlock
                                                    x:Uid="ImportDragDropLabel"
                                                    FontWeight="SemiBold"
                                                    Opacity="0.7" />
                                                <TextBlock
                                                    x:Uid="ImportDragDropDescriptionLabel"
                                                    FontSize="12"
                                                    Opacity="0.6"
                                                    TextWrapping="Wrap" />
                                            </StackPanel>

                                        </Grid>


                                    </Grid>
                                </StackPanel>

                                <StackPanel Spacing="6" x:Name="ImportedExportPanel">
                                    <TextBlock x:Uid="SettingsExportHeader" Style="{StaticResource HeaderStyle}" />
                                    <Button
                                        Width="340"
                                        Padding="12 10 12 10"
                                        HorizontalAlignment="Left"
                                        HorizontalContentAlignment="Left"
                                        Background="Transparent"
                                        BorderBrush="{ThemeResource ButtonBorderThemeBrush}"
                                        IsEnabled="{x:Bind IsCollectionExportEnabled, Mode=OneWay}"
                                        Style="{StaticResource ButtonRevealStyle}">
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <PathIcon
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Data="F1 M 18.046875 8.75 C 18.320313 8.75 18.575846 8.798828 18.813477 8.896484 C 19.051105 8.994141 19.257813 9.129232 19.433594 9.301758 C 19.609375 9.474284 19.747721 9.679362 19.848633 9.916992 C 19.949543 10.154623 20 10.410156 20 10.683594 C 20 10.9375 19.951172 11.184896 19.853516 11.425781 C 19.755859 11.666667 19.615885 11.878256 19.433594 12.060547 L 12.431641 19.0625 L 8.75 19.980469 L 9.667969 16.298828 L 16.669922 9.306641 C 16.858723 9.117839 17.070313 8.977865 17.304688 8.886719 C 17.539063 8.795573 17.786457 8.75 18.046875 8.75 Z M 18.544922 11.181641 C 18.681641 11.044922 18.75 10.878906 18.75 10.683594 C 18.75 10.481771 18.683268 10.317383 18.549805 10.19043 C 18.41634 10.063477 18.248697 10 18.046875 10 C 17.955729 10 17.867838 10.014648 17.783203 10.043945 C 17.698566 10.073242 17.623697 10.120443 17.558594 10.185547 L 10.800781 16.943359 L 10.46875 18.261719 L 11.787109 17.929688 Z M 7.5 15 L 8.75 15 L 7.5 16.25 L 2.861328 16.25 L 1.25 14.638672 L 1.25 2.5 C 1.25 2.324219 1.282552 2.161459 1.347656 2.011719 C 1.41276 1.86198 1.502279 1.730145 1.616211 1.616211 C 1.730143 1.502279 1.861979 1.412762 2.011719 1.347656 C 2.161458 1.282553 2.324219 1.25 2.5 1.25 L 15 1.25 C 15.17578 1.25 15.338541 1.282553 15.488281 1.347656 C 15.638021 1.412762 15.769856 1.502279 15.883789 1.616211 C 15.997721 1.730145 16.087238 1.86198 16.152344 2.011719 C 16.217447 2.161459 16.25 2.324219 16.25 2.5 L 16.25 7.5 L 15 8.75 L 15 2.5 L 13.75 2.5 L 13.75 8.75 L 3.75 8.75 L 3.75 2.5 L 2.5 2.5 L 2.5 14.111328 L 3.388672 15 L 3.75 15 L 3.75 10 L 12.5 10 L 12.5 11.25 L 11.25 12.5 L 11.25 11.25 L 5 11.25 L 5 15 L 6.25 15 L 6.25 12.5 L 7.5 12.5 Z M 5 7.5 L 12.5 7.5 L 12.5 2.5 L 5 2.5 Z " />
                                            <TextBlock
                                                x:Uid="SettingsExportImportedLabel"
                                                VerticalAlignment="Center"
                                                FontWeight="SemiBold"
                                                Opacity="0.7" />
                                            <ProgressRing
                                                Width="20"
                                                Height="20"
                                                MinWidth="20"
                                                MinHeight="20"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                IsActive="{x:Bind core:Converters.False(IsCollectionExportEnabled), Mode=OneWay}"
                                                Visibility="{x:Bind core:Converters.FalseToVis(IsCollectionExportEnabled), Mode=OneWay}" />
                                        </StackPanel>
                                        <Button.Flyout>
                                            <MenuFlyout Placement="Bottom">
                                                <MenuFlyoutItem x:Uid="CollectionExportFolder" Click="{x:Bind ExportToFolder}" />
                                                <MenuFlyoutItem x:Uid="CollectionExportZip" Click="{x:Bind ExportAsZip}" />
                                            </MenuFlyout>
                                        </Button.Flyout>
                                    </Button>
                                </StackPanel>


                            </StackPanel>

                            <StackPanel x:Name="LicensesPanel" Visibility="Collapsed">
                                <StackPanel.Resources>
                                    <Style TargetType="HyperlinkButton">
                                        <Setter Property="Margin" Value="0 -4 0 0" />
                                    </Style>
                                </StackPanel.Resources>
                                <TextBlock x:Uid="SettingsLicensesLabel" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <TextBlock x:Uid="SettingsLicensesDescriptionLabel" Style="{StaticResource DescriptionStyle}" />

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="WinUI" />
                                    <HyperlinkButton Content="MIT License" NavigateUri="https://github.com/microsoft/microsoft-ui-xaml/blob/master/LICENSE" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="Windows Community Toolkit" />
                                    <HyperlinkButton Content="MIT License" NavigateUri="https://github.com/windows-toolkit/WindowsCommunityToolkit/blob/master/license.md" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="MVVM Light" />
                                    <HyperlinkButton Content="MIT License" NavigateUri="https://github.com/lbugnion/mvvmlight/blob/master/LICENSE" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="Humanizer" />
                                    <HyperlinkButton Content="MIT License" NavigateUri="https://github.com/Humanizr/Humanizer/blob/master/LICENSE" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="Win2D" />
                                    <HyperlinkButton Content="MIT License" NavigateUri="https://github.com/microsoft/Win2D/blob/master/LICENSE.txt" />
                                </StackPanel>

                                <StackPanel>
                                    <TextBlock Style="{StaticResource HeaderStyle}" Text="SQLitePCLRaw" />
                                    <HyperlinkButton Content="Apache License 2.0" NavigateUri="https://github.com/ericsink/SQLitePCL.raw/blob/master/LICENSE.TXT" />
                                </StackPanel>

                            </StackPanel>

                            <StackPanel x:Name="AboutPanel" Visibility="Collapsed">

                                <TextBlock x:Uid="SettingsAboutLabel" Style="{StaticResource SectionHeaderTextBlockStyle}" />

                                <Image
                                    Width="150"
                                    Margin="0 12 0 0"
                                    HorizontalAlignment="Left"
                                    Source="/Assets/FileAssociationTile.png" />

                                <StackPanel>

                                    <TextBlock Text="{x:Bind core:Utils.GetAppDescription()}" TextWrapping="Wrap" />
                                    <TextBlock />
                                    <TextBlock
                                        x:Uid="Settings_AboutDescription"
                                        Text="#Settings_AboutDescription"
                                        TextWrapping="Wrap" />
                                </StackPanel>

                                <StackPanel Margin="0 12 0 0">
                                    <HyperlinkButton Content="GitHub" NavigateUri="https://github.com/EdiWang/UWP-CharacterMap" />
                                    <HyperlinkButton x:Uid="BtnContributors" NavigateUri="https://github.com/EdiWang/Character-Map-UWP/graphs/contributors" />
                                </StackPanel>

                                <StackPanel>
                                    <Button
                                        x:Name="BtnReview"
                                        x:Uid="BtnRateAndReview"
                                        Width="200"
                                        Margin="0 24 0 0"
                                        HorizontalAlignment="Left"
                                        Click="BtnReview_Click"
                                        Style="{StaticResource ButtonRevealStyle}" />
                                    <Button
                                        x:Name="BtnRestart"
                                        x:Uid="RestartButton"
                                        Width="200"
                                        Margin="0 24 0 0"
                                        HorizontalAlignment="Left"
                                        Click="BtnRestart_Click"
                                        Style="{StaticResource ButtonRevealStyle}" />
                                </StackPanel>

                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
    </Grid>
</views:ViewBase>
